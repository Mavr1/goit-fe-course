{"version":3,"sources":["webpack:///./js/services.js","webpack:///./js/gallery.js","webpack:///./js/request.js","webpack:///./js/pagination.js","webpack:///./js/searchForm.js","webpack:///./js/lightbox.js"],"names":["insert","element","markup","document","querySelector","insertAdjacentHTML","callback","image","webformatURL","tags","largeImageURL","likes","views","comments","downloads","fetchData","request","page","fetch","then","response","json","data","objData","hits","map","item","join","window","scroll","top","documentElement","offsetHeight","behavior","moreButtonRef","addEventListener","query","searchFormContainer","showSearchFormRef","showSearchFormLabelRef","galleryRef","onSubmit","e","innerHTML","target","elements","value","preventDefault","classList","replace","reset","textContent","form","outerHTML","nodeName","basicLightbox","dataset","sourcelarge","closable","onShow","instance","onclick","close","show"],"mappings":"iJAAaA,EAAS,SAACC,EAASC,GACP,iBAAZD,EAKXE,SAASC,cAAT,GAA0BH,GAAWI,mBAAmB,YAAaH,GAJnED,EAAQI,mBAAmB,YAAaH,ICKtCI,G,wCAAW,SAAAC,GACf,6FAE4BA,EAAMC,aAFlC,UAEwDD,EAAME,KAF9D,wBAE0FF,EAAMG,cAFhG,qIAMQH,EAAMI,MANd,yGAUQJ,EAAMK,MAVd,sGAcQL,EAAMM,SAdd,6GAkBQN,EAAMO,UAlBd,8CCNWC,EAAY,SAACC,EAASC,GAIjCC,MAHgB,wBACE,kDAAkDF,EAArD,SAAqEC,EAArE,qBACH,sCAETE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GDNmB,IAAAC,EACrBrB,EADqBqB,ECOTD,EAAKE,KDNjBtB,EAASqB,EAAQE,KAAI,SAAAC,GAAI,OAAIpB,EAASoB,MAAOC,KAAK,IACxD3B,EAAO,cAAeE,GCMde,EAAO,GACXW,OAAOC,OAAO,CACZC,IAAK3B,SAAS4B,gBAAgBC,aAC9BC,SAAU,eCVZC,G,oBAAgB/B,SAASC,cAAc,yBAe7C8B,EAAcC,iBAAiB,SALX,WAHlBC,EAAMnB,MAAQ,EAKdF,EAAUqB,EAAMpB,QAASoB,EAAMnB,SCXjC,IAAMoB,EAAsBlC,SAASC,cAAc,mBAC7CkC,EAAoBD,EAAoBjC,cAAc,mBACtDmC,EAAyBD,EAAkBlC,cAC/C,yBAEIoC,EAAarC,SAASC,cAAc,eAsB7BgC,EAAQ,CACnBpB,QAAS,GACTC,KAAM,GAGFwB,EAAW,SAAAC,GJjBQ,IAAAzC,EACA,iBADAA,EIkBbuC,GJZKrC,SAASC,cAAT,GAA0BH,GAClC0C,UAAY,GALjB1C,EAAQ0C,UAAY,GIiBtBP,EAAMnB,KAAO,EACbmB,EAAMpB,QAAU0B,EAAEE,OAAOC,SAAST,MAAMU,MACxCJ,EAAEK,iBACFhC,EAAUqB,EAAMpB,QAASoB,EAAMnB,MDnC/BiB,EAAcc,UAAUC,QAAQ,OAAQ,QCqCxCP,EAAEE,OAAOM,SAGXZ,EAAkBH,iBAAiB,SA7Bf,WAClB,GAA2C,qBAAvCI,EAAuBY,YAKzB,OAJAZ,EAAuBY,YAAc,mBACrCnD,EAAOqC,EATc,uNAURA,EAAoBjC,cAAc,gBAC1C+B,iBAAiB,SAAUM,GAIlC,IJjBwBxC,EIiBlBmD,EAAOjD,SAASC,cAAc,gBACpCmC,EAAuBY,YAAc,mBJjBd,iBADClD,EImBbmD,GJbIjD,SAASC,cAAT,GAA0BH,GAClCoD,UAAY,GALjBpD,EAAQoD,UAAY,M,gBKTLlD,SAASC,cAAc,eAoB/B+B,iBAAiB,SAlBP,SAAAO,GACO,QAAtBA,EAAEE,OAAOU,UACCC,SAAA,mBAEAb,EAAEE,OAAOY,QAAQC,YAFjB,yEAKZ,CACEC,UAAU,EACVC,OAAQ,SAAAC,GACNA,EAAS3D,UAAUG,cAAc,mBAAmByD,QAClDD,EAASE,SAIXC,Y","file":"main.7a01ae26eca56e39edc9.js","sourcesContent":["export const insert = (element, markup) => {\r\n  if (typeof element === 'object') {\r\n    element.insertAdjacentHTML('beforeend', markup);\r\n    return;\r\n  }\r\n\r\n  document.querySelector(`${element}`).insertAdjacentHTML('beforeend', markup);\r\n};\r\n\r\nexport const deleteElem = element => {\r\n  if (typeof element === 'object') {\r\n    element.outerHTML = '';\r\n    return;\r\n  }\r\n\r\n  const parent = document.querySelector(`${element}`);\r\n  parent.outerHTML = '';\r\n};\r\n\r\nexport const clearElem = element => {\r\n  if (typeof element === 'object') {\r\n    element.innerHTML = '';\r\n    return;\r\n  }\r\n\r\n  const parent = document.querySelector(`${element}`);\r\n  parent.innerHTML = '';\r\n};\r\n","import { insert } from './services';\r\n\r\nexport const galleryMarkup = objData => {\r\n  const markup = objData.map(item => callback(item)).join('');\r\n  insert('.js_gallery', markup);\r\n};\r\n\r\nconst callback = image => {\r\n  return `<li class=\"gallery__item\">\r\n  <div class=\"photo-card\">\r\n    <img class=\"image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-sourceLarge= \"${image.largeImageURL}\" width = \"350\"/>\r\n    <div class=\"stats\">\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">thumb_up</i>\r\n        ${image.likes}\r\n      </p>\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">visibility</i>\r\n        ${image.views}\r\n      </p>\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">comment</i>\r\n        ${image.comments}\r\n      </p>\r\n      <p class=\"stats-item\">\r\n        <i class=\"material-icons\">cloud_download</i>\r\n        ${image.downloads}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</li>`;\r\n};\r\n","import { galleryMarkup } from './gallery';\r\n\r\nexport const fetchData = (request, page) => {\r\n  const baseUrl = 'https://pixabay.com/';\r\n  const bodyFetch = `api/?image_type=photo&orientation=horizontal&q=${request}&page=${page}&per_page=12&key=`;\r\n  const key = '16728948-c39c5dcc25e25d8fd8d200637';\r\n  fetch(baseUrl + bodyFetch + key)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      galleryMarkup(data.hits);\r\n      if (page < 2) return;\r\n      window.scroll({\r\n        top: document.documentElement.offsetHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    });\r\n};\r\n","import { fetchData } from './request';\r\nimport { query } from './searchForm';\r\n\r\nconst moreButtonRef = document.querySelector('.js_view-more-button');\r\n\r\nexport const showButton = () => {\r\n  moreButtonRef.classList.replace('hide', 'show');\r\n};\r\n\r\nexport const pageIncr = () => {\r\n  query.page += 1;\r\n};\r\n\r\nconst onclickMore = () => {\r\n  pageIncr();\r\n  fetchData(query.request, query.page);\r\n};\r\n\r\nmoreButtonRef.addEventListener('click', onclickMore);\r\n","import { insert, deleteElem, clearElem } from './services';\r\nimport { fetchData } from './request';\r\nimport { showButton } from './pagination';\r\n\r\nconst searchFormContainer = document.querySelector('.js_search-form');\r\nconst showSearchFormRef = searchFormContainer.querySelector('.js_show-search');\r\nconst showSearchFormLabelRef = showSearchFormRef.querySelector(\r\n  '.js_show-search-lable',\r\n);\r\nconst galleryRef = document.querySelector('.js_gallery');\r\n\r\nconst searchFormMarkup = `\r\n<form class=\"search-form\" id=\"search-form\">\r\n<input type=\"text\" name=\"query\" autocomplete=\"off\" placeholder=\"Search images...\"/>\r\n<button type=\"submit\" class=\"js_searchFormSubmit\">Search</button>\r\n</form>`;\r\n\r\nconst onClickShow = () => {\r\n  if (showSearchFormLabelRef.textContent === 'Show search form') {\r\n    showSearchFormLabelRef.textContent = 'Hide search form';\r\n    insert(searchFormContainer, searchFormMarkup);\r\n    const form = searchFormContainer.querySelector('#search-form');\r\n    form.addEventListener('submit', onSubmit);\r\n    return;\r\n  }\r\n\r\n  const form = document.querySelector('#search-form');\r\n  showSearchFormLabelRef.textContent = 'Show search form';\r\n  deleteElem(form);\r\n};\r\n\r\nexport const query = {\r\n  request: '',\r\n  page: 0,\r\n};\r\n\r\nconst onSubmit = e => {\r\n  clearElem(galleryRef);\r\n  query.page = 1;\r\n  query.request = e.target.elements.query.value;\r\n  e.preventDefault();\r\n  fetchData(query.request, query.page);\r\n  showButton();\r\n  e.target.reset();\r\n};\r\n\r\nshowSearchFormRef.addEventListener('click', onClickShow);\r\n","import * as basicLightbox from 'basiclightbox';\r\n\r\nconst galleryRef = document.querySelector('.js_gallery');\r\n\r\nconst onClickLarge = e => {\r\n  if (e.target.nodeName !== 'IMG') return;\r\n  const modal = basicLightbox.create(\r\n    `\r\n    <img src=\"${e.target.dataset.sourcelarge}\" width=\"1000\">\r\n    <button class=\"js_modal-close\">Close</button>\r\n  `,\r\n    {\r\n      closable: true,\r\n      onShow: instance => {\r\n        instance.element().querySelector('.js_modal-close').onclick =\r\n          instance.close;\r\n      },\r\n    },\r\n  );\r\n  modal.show();\r\n};\r\n\r\ngalleryRef.addEventListener('click', onClickLarge);\r\n"],"sourceRoot":""}